import { Meta } from '@storybook/addon-docs';

import Flex from 'quarks/Flex';

<Meta
  title="Guides/Using Storybook"
  parameters={{
    viewMode: 'docs',
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
/>

# Using this Storybook

This Storybook hosts live demos of all molecules and components, guides and documentation, and other tools for
understanding the contents of the UI Library.

## Viewing Stories

Each Quark, Atom, Molecule, and Component has its own story, which consists of two tabs found in the top left:

<Flex justifyContent="center">
  <img src="./screenshots/toolbar.png" alt="Storybook Toolbar" title="Storybook Toolbar" />
</Flex>

### Canvas tab

The Canvas tab demonstrates the item as it would be on a webpage. It is not present on guides like this one.

In addition to responding to user input and screen size changes, the item in the Canvas tab offers a panel at the bottom
if applicable. The panel comes in two parts:

- **Controls:** These allow you to see how the item changes depending on the props provided to it. For simple props like
  strings and numbers you can enter in the values directly. For more complex props like objects and arrays, a dropdown
  is provided with keys that map to different preset values. To reset the controls, simply click the "undo" button in
  the top right of the panel.

<Flex justifyContent="center">
  <img src="./screenshots/controls.png" alt="Canvas Controls" title="Canvas Controls" />
</Flex>

- **Actions:** For interactive elements such as buttons and input molecules that trigger events, those events will be
  logged in the Actions tab.

<Flex justifyContent="center">
  <img src="./screenshots/actions.gif" alt="Canvas Actions" title="Canvas Actions" />
</Flex>

### Docs tab

The Docs tab contains detailed explanations of item properties, requirements, and behavior that are not readily apparent
in the Canvas tab. You are looking at a Doc tab right now!

When applicable, stories also contain a "Props" table which includes descriptions of all props and their default values
if set.

<Flex justifyContent="center">
  <img src="./screenshots/propsTable.png" alt="Prop Table" title="Prop Table" />
</Flex>

## The Toolbar

Alongside the Canvas and Docs tabs are several Storybook controls. They offer convenient features for understanding each
story:

### Light and Dark Toggle

This Storybook uses the [Dark Mode addon](https://storybook.js.org/addons/storybook-dark-mode), which provides a toggle
on the far right of the toolbar. This controls the theme for both the Storybook itself and the story item, so each item
will appear correctly as it would given the respective mode on a webpage.

<Flex justifyContent="center">
  <img src="./screenshots/darkMode.gif" alt="Dark Mode" title="Dark Mode" />
</Flex>

### Other Toolbar controls

From left to right, other useful controls include:

- Zoom in
- Zoom out
- Zoom reset
- Toggle grid background
- Responsiveness - This allows you to choose the screen size within the Canvas tab
- Measure - This enables an overlay which shows sizes and distances between each element
- Outlines - Enables a wireframe to show item positioning

## Customizing Storybook

Most elements of the Storybook [can be customized](https://storybook.js.org/docs/react/configure/theming). For new
projects, it's particularly useful to be able to change the Storybook icon and URL in the top left as well as the
favicon.

### Changing the brand title, URL, and logo

To change the brand title and URL for your Storybook, simply update those properties in `.storybook/preview.jsx`:

```jsx
// .storybook/preview.jsx

const defaultTheme = {
  brandTitle: 'Webstacks',
  brandUrl: 'https://webstacks.com/',
};
```

Assuming your chosen logo uses strong dark or light colors, you will likely need two: one for dark mode and one for
light. Place your files in `.storybook/public`, then reference them by name in `.storybook/preview.jsx`:

```jsx
// .storybook/preview.jsx

export const parameters = {
  darkMode: {
    dark: { ...themes.dark, ...defaultTheme, brandImage: lightLogo },
    light: { ...themes.light, ...defaultTheme, brandImage: blackLogo },
  },
```

<Flex justifyContent="center">
  <img src="./screenshots/storybookLogo.png" alt="Storybook Logo" title="Storybook Logo" />
</Flex>

### Changing the favicon.

The current favicon is stored `.storybook/public` as favicon.png. To swap out the favicon, simply remove this file and
replace it with a new one using the same name.
